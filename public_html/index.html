<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">

	<link rel="stylesheet" href="https://tools-static.wmflabs.org/cdnjs/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" crossorigin="anonymous">

	<title>text2hash - hash text right in your browser</title>
</head>

<body>
	<div class="main-wrapper">
		<nav class="navbar navbar-expand-md navbar-light bg-light">
			<div class="container">
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
				 aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav ml-auto">
						<li class="nav-item">
							<a class="nav-link" href="https://meta.wikimedia.org/wiki/User:Fastily">Author</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="https://github.com/fastily/text2hash-toollabs">Source</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="https://tools.wmflabs.org">Toolforge</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<div class="container" id="app">
			<div class="jumbotron mt-3">
				<h1 class="display-4">text2hash</h1>
				<p class="lead">(The simple text hashing tool)</p>
			</div>

			<form>
				<div class="form-group">
					<label for="mainTextInput">First, type the text you want to hash:</label>
					<textarea class="form-control" rows="3" id="mainTextInput" v-model="inputText"></textarea>
				</div>

				<div class="form-group">
					<label for="selectAlgBox">Next, choose your hashing algorithim:</label>
					<select class="form-control" id="selectAlgBox" v-model="selectedAlg">
						<option v-for="v in vals" :key="v.name" :value="v.name">{{v.name}} ({{v.type}})</option>
					</select>
				</div>

				<hr>
				<div class="card">
					<div class="card-header">
						And here is your result:
					</div>
					<div class="card-body">
						{{doHash()}}
					</div>
				</div>
			</form>
		</div>
	</div>

	<script src="https://tools-static.wmflabs.org/cdnjs/ajax/libs/jquery/3.4.1/jquery.min.js" crossorigin="anonymous"></script>
	<script src="https://tools-static.wmflabs.org/cdnjs/ajax/libs/popper.js/1.16.0/popper.min.js" crossorigin="anonymous"></script>
	<script src="https://tools-static.wmflabs.org/cdnjs/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js" crossorigin="anonymous"></script>
	<script src="https://tools-static.wmflabs.org/cdnjs/ajax/libs/vue/2.6.11/vue.min.js" crossorigin="anonymous"></script>
	<script src="https://tools-static.wmflabs.org/cdnjs/ajax/libs/crypto-js/4.0.0/crypto-js.min.js" crossorigin="anonymous"></script>

	<script>
		new Vue({
			el: "#app",
			data: {
				vals: [{ name: "sha3-512", type: "strong" }, { name: "sha512", type: "strong" }, { name: "sha384", type: "better" }, { name: "sha256", type: "better" },
				{ name: "sha1", type: "weak" }, { name: "md5", type: "weak" }],
				selectedAlg: "sha3-512",
				inputText: ""
			},
			methods: {
				doHash() {
					if (!this.inputText)
						return "";

					switch (this.selectedAlg) {
						case 'md5':
							return CryptoJS.MD5(this.inputText)
							break;
						case 'sha1':
							return CryptoJS.SHA1(this.inputText)
							break;
						case 'sha256':
							return CryptoJS.SHA256(this.inputText)
							break;
						case 'sha384':
						return CryptoJS.SHA384(this.inputText)
							break;
						case 'sha512':
							return CryptoJS.SHA512(this.inputText)
							break;
						case 'sha3-512':
							return CryptoJS.SHA3(this.inputText)
							break;
						default:
							return alert("Invalid option, should never reach here");
							break;
					}
				}
			}
		});
	</script>
</body>

</html>